{"version":3,"sources":["webpack:///./src/components/InputTimeInterval.vue?7bae","webpack:///src/components/InputTimeInterval.vue","webpack:///./src/components/InputTimeInterval.vue?ec32","webpack:///./src/components/InputTimeInterval.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","_m","directives","name","rawName","value","expression","attrs","on","$event","$$selectedVal","Array","prototype","filter","call","target","options","o","selected","map","val","_value","mode","multiple","_v","domProps","duration","valueChanged","_e","staticClass","composing","start","end","staticRenderFns","props","data","now","computed","newValue","methods","e","$emit","component"],"mappings":"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","file":"js/chunk-2d0c912a.9aa8bf4a.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',[_c('table',[_c('tr',[_vm._m(0),_c('td',[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.mode),expression:\"mode\"}],attrs:{\"id\":\"mode\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.mode=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},[_c('option',{attrs:{\"value\":\"last_duration\"}},[_vm._v(\"Last duration\")]),_c('option',{attrs:{\"value\":\"range\"}},[_vm._v(\"Date range\")])])])]),(_vm.mode == 'last_duration')?_c('tr',[_vm._m(1),_c('td',[_c('select',{attrs:{\"id\":\"duration\"},domProps:{\"value\":_vm.duration},on:{\"change\":_vm.valueChanged}},[_c('option',{domProps:{\"value\":15*60}},[_vm._v(\"15min\")]),_c('option',{domProps:{\"value\":30*60}},[_vm._v(\"30min\")]),_c('option',{domProps:{\"value\":60*60}},[_vm._v(\"1h\")]),_c('option',{domProps:{\"value\":2*60*60}},[_vm._v(\"2h\")]),_c('option',{domProps:{\"value\":4*60*60}},[_vm._v(\"4h\")]),_c('option',{domProps:{\"value\":6*60*60}},[_vm._v(\"6h\")]),_c('option',{domProps:{\"value\":12*60*60}},[_vm._v(\"12h\")]),_c('option',{domProps:{\"value\":24*60*60}},[_vm._v(\"24h\")])])])]):_vm._e(),(_vm.mode == 'range')?_c('tr',[_c('td',{staticClass:\"pr-2\"},[_vm._v(\"Range:\")]),_c('td',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.start),expression:\"start\"}],attrs:{\"type\":\"date\"},domProps:{\"value\":(_vm.start)},on:{\"input\":[function($event){if($event.target.composing){ return; }_vm.start=$event.target.value},_vm.valueChanged]}}),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.end),expression:\"end\"}],attrs:{\"type\":\"date\"},domProps:{\"value\":(_vm.end)},on:{\"input\":[function($event){if($event.target.composing){ return; }_vm.end=$event.target.value},_vm.valueChanged]}})])]):_vm._e()])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('td',{staticClass:\"pr-2\"},[_c('label',{attrs:{\"for\":\"mode\"}},[_vm._v(\"Interval mode:\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('td',{staticClass:\"pr-2\"},[_c('label',{attrs:{\"for\":\"duration\"}},[_vm._v(\"Show last:\")])])}]\n\nexport { render, staticRenderFns }","<template lang=\"pug\">\ndiv\n  div\n    table\n      tr\n        td.pr-2\n          label(for=\"mode\") Interval mode:\n        td\n          select(id=\"mode\" v-model=\"mode\")\n            option(value='last_duration') Last duration\n            option(value='range') Date range\n      tr(v-if=\"mode == 'last_duration'\")\n        td.pr-2\n          label(for=\"duration\") Show last:\n        td\n          select(id=\"duration\" :value=\"duration\", @change=\"valueChanged\")\n            option(:value=\"15*60\") 15min\n            option(:value=\"30*60\") 30min\n            option(:value=\"60*60\") 1h\n            option(:value=\"2*60*60\") 2h\n            option(:value=\"4*60*60\") 4h\n            option(:value=\"6*60*60\") 6h\n            option(:value=\"12*60*60\") 12h\n            option(:value=\"24*60*60\") 24h\n      tr(v-if=\"mode == 'range'\")\n        td.pr-2 Range:\n        td\n          input(type=\"date\", v-model=\"start\", @input=\"valueChanged\")\n          input(type=\"date\", v-model=\"end\", @input=\"valueChanged\")\n\n</template>\n\n<style scoped lang=\"scss\">\n</style>\n\n<script>\nimport moment from 'moment';\n\nexport default {\n  name: \"input-timeinterval\",\n  props: {\n      duration: {\n          type: Number,\n          default: 60 * 60\n      }\n  },\n  data: () => {\n    return {\n      now: moment(),\n      mode: 'last_duration',\n      start: null,\n      end: null,\n    }\n  },\n  computed: {\n    value: {\n      get() {\n        if(this.mode == 'range' && this.start && this.end) {\n          return [moment(this.start), moment(this.end)];\n        } else {\n          return [\n            moment(this.now).subtract(this.duration, \"seconds\"),\n            moment(this.now)\n          ];\n        }\n      },\n      set(newValue) {\n        if(!isNaN(newValue)) {\n          // Set new now and duration\n          this.now = moment();\n          this.duration = newValue;\n        } else {\n          // Not required for mode='range', start and end set directly through v-model\n        }\n      }\n    }\n  },\n  methods: {\n    valueChanged(e) {\n      this.value = e.target.value;\n      this.$emit('input', this.value);\n    }\n  }\n}\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InputTimeInterval.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InputTimeInterval.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./InputTimeInterval.vue?vue&type=template&id=88caafdc&scoped=true&lang=pug&\"\nimport script from \"./InputTimeInterval.vue?vue&type=script&lang=js&\"\nexport * from \"./InputTimeInterval.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"88caafdc\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}