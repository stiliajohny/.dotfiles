(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7cf84ed0"],{6436:function(t,e,i){"use strict";var a=i("0874");a["default"].register({"arrow-right":{width:448,height:512,paths:[{d:"M190.5 66.9l22.2-22.2c9.4-9.4 24.6-9.4 33.9 0l194.4 194.3c9.4 9.4 9.4 24.6 0 33.9l-194.4 194.4c-9.4 9.4-24.6 9.4-33.9 0l-22.2-22.2c-9.5-9.5-9.3-25 0.4-34.3l120.5-114.8h-287.4c-13.3 0-24-10.7-24-24v-32c0-13.3 10.7-24 24-24h287.4l-120.5-114.8c-9.8-9.3-10-24.8-0.4-34.3z"}]}})},7934:function(t,e,i){},"835f":function(t,e,i){"use strict";var a=i("0874");a["default"].register({sync:{width:512,height:512,paths:[{d:"M440.6 12.6c0-0.2 0-0.4 0-0.6 0-6.6 5.4-12 12-12h47.4c6.6 0 12 5.4 12 12v200.3c0 6.6-5.4 12-12 12h-200.2c-6.6 0-12-5.4-12-12v-47.4 0c0-6.6 5.4-12 12-12 0.2 0 0.4 0 0.6 0l101.5 4.9c-28.9-42.9-94.3-77.8-146-77.8-76.5 0-153.1 60.3-171 134.7-1.2 5.1-6.4 9.3-11.7 9.3h-49c-6.6 0-12-5.4-12-12 0-0.6 0.1-1.6 0.2-2.2 21.6-114.9 122.4-201.8 243.5-201.8h0.3c63.2 0 147.7 39.1 188.5 87.3zM255.8 432c76.5 0 153.1-60.4 171-134.7 1.2-5.1 6.4-9.3 11.7-9.3h49c6.6 0 12 5.4 12 12 0 0.6-0.1 1.6-0.2 2.2-21.6 114.9-122.4 201.8-243.6 201.8h-0.2c-63.1 0-147.5-39.1-188.4-87.2l4.1 82.6c0 0.2 0 0.4 0 0.6 0 6.6-5.4 12-12 12h0-47.3c-6.6 0-12-5.4-12-12v-200.3c0-6.6 5.4-12 12-12h200.2c6.6 0 12 5.4 12 12v47.4 0c0 6.6-5.4 12-12 12-0.2 0-0.4 0-0.6 0l-101.8-4.9c28.8 42.9 94.1 77.8 145.8 77.8h0.2z"}]}})},8884:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("h2",[t._v("Activity for "+t._s(t.periodReadable))]),i("p",[t._v("Host: "+t._s(t.host)),i("br"),t._v("Active time: "+t._s(t._f("friendlyduration")(t.$store.state.activity_daily.active_duration)))]),i("div",{staticClass:"d-flex"},[i("div",{staticClass:"p-1"},[i("b-button-group",[i("b-button",{attrs:{to:t.link_prefix+"/"+t.previousPeriod()+"/"+t.subview,variant:"outline-dark"}},[i("icon",{attrs:{name:"arrow-left"}}),i("span",{staticClass:"d-none d-md-inline"},[t._v(" Previous")])],1),i("b-button",{attrs:{to:t.link_prefix+"/"+t.nextPeriod()+"/"+t.subview,disabled:t.nextPeriod()>t.today,variant:"outline-dark"}},[i("span",{staticClass:"d-none d-md-inline"},[t._v(" Next")]),i("icon",{attrs:{name:"arrow-right"}})],1)],1)],1),i("div",{staticClass:"p-1"},[i("b-select",{attrs:{value:t.periodLength,options:["day","week","month"]},on:{change:function(e){return t.setDate(t.date,e)}}})],1),"day"===t.periodLength?i("div",{staticClass:"p-1"},[i("input",{staticClass:"form-control",attrs:{id:"date",type:"date",max:t.today},domProps:{value:t.date},on:{change:function(e){return t.setDate(e.target.value)}}})]):t._e(),i("div",{staticClass:"p-1 ml-auto"},[i("b-button-group",[i("b-button",{attrs:{variant:"outline-dark"},on:{click:function(e){return t.refresh(!0)}}},[i("icon",{attrs:{name:"sync"}}),i("span",{staticClass:"d-none d-md-inline"},[t._v(" Refresh")])],1)],1)],1)]),i("aw-periodusage",{attrs:{periodusage_arr:t.periodusage,link_prefix:t.link_prefix}}),i("ul",{staticClass:"row nav nav-tabs my-3 px-3"},[i("li",{staticClass:"nav-item"},[i("router-link",{staticClass:"nav-link",attrs:{to:{name:"activity-daily-summary",params:t.$route.params}}},[i("h5",[t._v("Summary")])])],1),i("li",{staticClass:"nav-item"},[i("router-link",{staticClass:"nav-link",attrs:{to:{name:"activity-daily-window",params:t.$route.params}}},[i("h5",[t._v("Window")])])],1),i("li",{staticClass:"nav-item"},[i("router-link",{staticClass:"nav-link",attrs:{to:{name:"activity-daily-browser",params:t.$route.params}}},[i("h5",[t._v("Browser")])])],1),i("li",{staticClass:"nav-item"},[i("router-link",{staticClass:"nav-link",attrs:{to:{name:"activity-daily-editor",params:t.$route.params}}},[i("h5",[t._v("Editor")])])],1)]),i("div",[i("router-view")],1),i("div",[i("h5",[t._v("Options")]),i("div",{staticClass:"row"},[i("div",{staticClass:"col-md-6"},[i("b-form-group",{attrs:{label:"Show category","label-cols":"5","label-cols-lg":"4"}},[i("b-form-select",{attrs:{options:t.categories},model:{value:t.filterCategory,callback:function(e){t.filterCategory=e},expression:"filterCategory"}})],1)],1)])])],1)},r=[],s=i("c1df"),n=i.n(s),o=i("5acd"),c=(i("e135"),i("6436"),i("835f"),{name:"Activity",props:{host:String,date:{type:String,default:Object(o["get_today"])()},periodLength:{type:String,default:"day"}},data:function(){return{today:Object(o["get_today"])(),filterCategory:null}},computed:{subview:function(){return this.$route.meta.subview},categories:function(){const t=this.$store.getters["settings/all_categories"];console.log(t);const e=t.map(t=>{return{text:t.join(" > "),value:t}});return[{text:"All",value:null},{text:"Uncategorized",value:["Uncategorized"]}].concat(e)},filterCategories:function(){if(this.filterCategory){const t=this.$store.getters["settings/all_categories"],e=t=>e=>e.length>t.length&&_.isEqual(t,e.slice(0,t.length)),i=_.filter(t,e(this.filterCategory));return console.log(i),[this.filterCategory].concat(i)}return null},link_prefix:function(){return`/activity/${this.host}/${this.periodLength}`},periodusage:function(){return this.$store.getters["activity_daily/getActiveHistoryAroundTimeperiod"](this.timeperiod)},timeperiod:function(){return{start:Object(o["get_day_start_with_offset"])(this.date),length:[1,this.periodLength]}},dateformat:function(){return"day"===this.periodLength?"YYYY-MM-DD":"week"===this.periodLength?"YYYY[ W]WW":"month"===this.periodLength?"YYYY-MM":"year"===this.periodLength?"YYYY":"YYYY-MM-DD"},periodReadable:function(){return n()(this.timeperiod.start).format(this.dateformat)}},watch:{timeperiod:function(){this.refresh()},filterCategory:function(){this.refresh()}},mounted:async function(){this.$store.dispatch("settings/load"),await this.refresh()},methods:{previousPeriod:function(){return n()(this.date).subtract(1,`${this.periodLength}s`).format("YYYY-MM-DD")},nextPeriod:function(){return n()(this.date).add(1,`${this.periodLength}s`).format("YYYY-MM-DD")},setDate:function(t,e){const i=n()(t).startOf(e).format("YYYY-MM-DD");this.$router.push(`/activity/${this.host}/${e}/${i}`)},refresh:async function(t){await this.$store.dispatch("activity_daily/ensure_loaded",{timeperiod:this.timeperiod,host:this.host,force:t,filterAFK:!0,filterCategories:this.filterCategories})}}}),l=c,d=(i("9aca"),i("2877")),u=Object(d["a"])(l,a,r,!1,null,"1c653ea7",null);e["default"]=u.exports},"9aca":function(t,e,i){"use strict";var a=i("7934"),r=i.n(a);r.a},e135:function(t,e,i){"use strict";var a=i("0874");a["default"].register({"arrow-left":{width:448,height:512,paths:[{d:"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0l-194.4-194.3c-9.4-9.4-9.4-24.6 0-33.9l194.4-194.4c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-0.4 34.3l-120.5 114.8h287.4c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24h-287.4l120.5 114.8c9.8 9.3 10 24.8 0.4 34.3z"}]}})}}]);
//# sourceMappingURL=chunk-7cf84ed0.136afa58.js.map