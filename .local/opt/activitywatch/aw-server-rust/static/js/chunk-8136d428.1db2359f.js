(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-8136d428"],{"21d7":function(t,e,s){"use strict";var a=s("463e"),i=s.n(a);i.a},"26d3":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("h3",[t._v("Settings")]),s("b-alert",{attrs:{variant:"warning",show:""}},[s("b",[t._v("Note:")]),t._v(" These settings are only saved in your browser and will not remain if you switch browser. We are working on getting this fixed.")]),s("hr"),s("div",{staticClass:"row"},[t._m(0),s("div",{staticClass:"col-sm-3"},[s("input",{staticClass:"form-control",attrs:{type:"time"},domProps:{value:t.startOfDay},on:{change:function(e){return t.setStartOfDay(e.target.value)}}})])]),s("hr"),s("div",{staticClass:"row"},[t._m(1),s("div",{staticClass:"col-sm-3"},[s("select",{attrs:{id:"durationDefaultValue"},domProps:{value:t.durationDefaultValue},on:{change:function(e){return t.setDurationDefault(e.target.value)}}},[s("option",{domProps:{value:900}},[t._v("15min")]),s("option",{domProps:{value:1800}},[t._v("30min")]),s("option",{domProps:{value:3600}},[t._v("1h")]),s("option",{domProps:{value:7200}},[t._v("2h")]),s("option",{domProps:{value:14400}},[t._v("4h")]),s("option",{domProps:{value:21600}},[t._v("6h")]),s("option",{domProps:{value:43200}},[t._v("12h")]),s("option",{domProps:{value:86400}},[t._v("24h")])])])]),s("hr"),t._m(2),s("div",{staticClass:"float-right"},[s("b-btn",{staticClass:"ml-1",attrs:{variant:"outline-warning",size:"sm"},on:{click:t.restoreDefaultClasses}},[t._v("Restore defaults")])],1),s("div",[t._v("Rules for categorizing events. An event can only have one category. If several categories match, the deepest one will be chosen.")]),s("div",{staticClass:"my-4"},[s("b-alert",{attrs:{variant:"warning",show:t.classes_unsaved_changes}},[t._v("You have unsaved changes!"),s("div",{staticClass:"float-right",staticStyle:{"margin-top":"-0.15em","margin-right":"-0.6em"}},[s("b-btn",{staticClass:"ml-2",attrs:{variant:"success",size:"sm"},on:{click:t.saveClasses}},[t._v("Save")]),s("b-btn",{staticClass:"ml-2",attrs:{variant:"warning",size:"sm"},on:{click:t.resetClasses}},[t._v("Discard")])],1)]),t._l(t.classes_hierarchy,(function(t){return s("div",[s("CategoryEditTree",{attrs:{cls:t}})],1)}))],2),s("div",{staticClass:"row"},[s("div",{staticClass:"col-sm-12"},[s("b-btn",{on:{click:t.addClass}},[s("icon",{staticClass:"mr-2",attrs:{name:"plus"}}),t._v("Add category")],1),s("b-btn",{staticClass:"float-right",attrs:{variant:"success",disabled:!t.classes_unsaved_changes},on:{click:t.saveClasses}},[t._v("Save")])],1)])],1)},i=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col-sm-9"},[s("h5",{staticClass:"mb-0"},[t._v("Start of day")]),s("small",[t._v('The time at which days "start", since humans don\'t always go to bed before midnight. Set to 04:00 by default.')])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col-sm-9"},[s("h5",{staticClass:"mb-0"},[t._v("Duration default value")]),s("small",[t._v("The default duration used for 'show last' in the timeline view")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("h5",{staticClass:"d-inline-block"},[s("div",[t._v("Categorization")])])}],n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"row py-2 cls"},[s("div",{staticClass:"col-8 col-md-4"},[s("span",{style:{marginLeft:2*t.depth+"em"}}),t.depth>0?s("span",[t._v("⮡")]):t._e(),t._v(" "+t._s(t.cls.name.slice(t.depth).join(" ➤ ")))]),s("div",{staticClass:"col-4 col-md-8"},[s("span",{staticClass:"d-none d-md-inline"},["regex"===t.cls.rule.type?s("span",[t._v("Rule ("+t._s(t.cls.rule.type)+"): "),s("code",[t._v(t._s(t.cls.rule.regex))])]):s("span",{staticStyle:{color:"#888"}},[t._v("No rule")])]),s("span",{staticClass:"float-right"},[s("b-btn",{staticClass:"ml-1",staticStyle:{border:"0"},attrs:{size:"sm",variant:"outline-secondary",pill:""},on:{click:function(e){return t.showEditModal(e)}}},[s("icon",{attrs:{name:"edit"}})],1),s("b-btn",{staticClass:"ml-1",staticStyle:{border:"0"},attrs:{size:"sm",variant:"outline-success",pill:""},on:{click:function(e){return t.addSubclass(t.cls)}}},[s("icon",{attrs:{name:"plus"}})],1)],1)])]),s("div",t._l(t.cls.children,(function(e){return s("div",{directives:[{name:"show",rawName:"v-show",value:t.expanded,expression:"expanded"}],staticClass:"pa-2",staticStyle:{background:"rgba(0, 0, 0, 0)"}},[s("CategoryEditTree",{attrs:{cls:e,depth:t.depth+1}})],1)})),0),s("b-modal",{ref:"edit",attrs:{id:"edit",title:"Edit category"},on:{show:t.resetModal,hidden:t.resetModal,ok:t.handleOk}},[s("div",{staticClass:"my-1"},[s("b-input-group",{staticClass:"my-1",attrs:{prepend:"Name"}},[s("b-form-input",{model:{value:t.editing.name,callback:function(e){t.$set(t.editing,"name",e)},expression:"editing.name"}})],1),s("b-input-group",{attrs:{prepend:"Parent"}},[s("b-select",{attrs:{options:t.allCategories},model:{value:t.editing.parent,callback:function(e){t.$set(t.editing,"parent",e)},expression:"editing.parent"}})],1)],1),s("hr"),s("div",{staticClass:"my-1"},[s("b",[t._v("Rule")]),s("b-input-group",{staticClass:"my-1",attrs:{prepend:"Type"}},[s("b-select",{attrs:{options:t.allRuleTypes},model:{value:t.editing.rule.type,callback:function(e){t.$set(t.editing.rule,"type",e)},expression:"editing.rule.type"}})],1),"regex"===t.editing.rule.type?s("div",[s("b-input-group",{staticClass:"my-1",attrs:{prepend:"Pattern"}},[s("b-form-input",{model:{value:t.editing.rule.regex,callback:function(e){t.$set(t.editing.rule,"regex",e)},expression:"editing.rule.regex"}})],1),s("b-form-checkbox",{attrs:{switch:""},model:{value:t.editing.rule.ignore_case,callback:function(e){t.$set(t.editing.rule,"ignore_case",e)},expression:"editing.rule.ignore_case"}},[t._v("Ignore case")])],1):t._e()],1),s("hr"),s("div",{staticClass:"my-1"},[s("b-btn",{attrs:{variant:"danger"},on:{click:function(e){t.removeClass(t.cls),t.$refs.edit.hide()}}},[s("icon",{attrs:{name:"trash"}}),t._v("Remove category")],1)],1)])],1)},r=[],l=s("0874");l["default"].register({"plus-square":{width:448,height:512,paths:[{d:"M400 32c26.5 0 48 21.5 48 48v352c0 26.5-21.5 48-48 48h-352c-26.5 0-48-21.5-48-48v-352c0-26.5 21.5-48 48-48h352zM368 284v-56c0-6.6-5.4-12-12-12h-92v-92c0-6.6-5.4-12-12-12h-56c-6.6 0-12 5.4-12 12v92h-92c-6.6 0-12 5.4-12 12v56c0 6.6 5.4 12 12 12h92v92c0 6.6 5.4 12 12 12h56c6.6 0 12-5.4 12-12v-92h92c6.6 0 12-5.4 12-12z"}]}}),l["default"].register({"minus-square":{width:448,height:512,paths:[{d:"M400 32c26.5 0 48 21.5 48 48v352c0 26.5-21.5 48-48 48h-352c-26.5 0-48-21.5-48-48v-352c0-26.5 21.5-48 48-48h352zM92 296h264c6.6 0 12-5.4 12-12v-56c0-6.6-5.4-12-12-12h-264c-6.6 0-12 5.4-12 12v56c0 6.6 5.4 12 12 12z"}]}}),l["default"].register({"caret-right":{width:192,height:512,paths:[{d:"M0 384.7v-257.3c0-17.8 21.5-26.7 34.1-14.1l128.7 128.7c7.8 7.8 7.8 20.5 0 28.3l-128.7 128.7c-12.6 12.6-34.1 3.7-34.1-14.1z"}]}});s("a56d");l["default"].register({plus:{width:448,height:512,paths:[{d:"M416 208c17.7 0 32 14.3 32 32v32c0 17.7-14.3 32-32 32h-144v144c0 17.7-14.3 32-32 32h-32c-17.7 0-32-14.3-32-32v-144h-144c-17.7 0-32-14.3-32-32v-32c0-17.7 14.3-32 32-32h144v-144c0-17.7 14.3-32 32-32h32c17.7 0 32 14.3 32 32v144h144z"}]}});s("641e");var c={name:"CategoryEditTree",props:{cls:Object,depth:{type:Number,default:0}},data:()=>{return{expanded:!0,editing:{id:0,name:null,rule:{},parent:[]}}},computed:{allCategories:function(){const t=this.$store.getters["settings/all_categories"],e=t.map(t=>{return{text:t.join("->"),value:t}});return[{value:[],text:"None"}].concat(e)},allRuleTypes:function(){return[{value:null,text:"None"},{value:"regex",text:"Regular Expression"}]}},methods:{addSubclass:function(t){this.$store.commit("settings/addClass",{name:t.name.concat(["New class"]),rule:{type:"regex",regex:"FILL ME"}})},removeClass:function(t){this.$store.commit("settings/removeClass",t)},showEditModal(t){this.$refs.edit.show()},checkFormValidity(){return!0},handleOk(t){t.preventDefault(),this.handleSubmit()},handleSubmit(){if(!this.checkFormValidity())return;const t={id:this.editing.id,name:this.editing.parent.concat(this.editing.name),rule:null!==this.editing.rule.type?this.editing.rule:{type:null}};this.$store.commit("settings/updateClass",t),this.$nextTick(()=>{this.$refs.edit.hide()})},resetModal(){this.editing={id:this.cls.id,name:this.cls.subname,rule:_.cloneDeep(this.cls.rule),parent:this.cls.parent?this.cls.parent:[]}}}},o=c,d=(s("21d7"),s("2877")),u=Object(d["a"])(o,n,r,!1,null,"37d1d76a",null),h=u.exports,v=s("2f62"),m={name:"Settings",components:{CategoryEditTree:h},data:()=>{return{startOfDay:"",durationDefaultValue:localStorage.durationDefault||3600}},computed:{...Object(v["b"])("settings",["classes_hierarchy"]),...Object(v["c"])("settings",["classes_unsaved_changes"])},mounted(){this.startOfDay=localStorage.startOfDay,this.$store.dispatch("settings/load")},methods:{setStartOfDay:function(t){localStorage.startOfDay=t},addClass:function(){this.$store.commit("settings/addClass",{name:["New class"],rule:{type:"regex",regex:"FILL ME"}})},saveClasses:async function(){await this.$store.dispatch("settings/save")},resetClasses:async function(){await this.$store.dispatch("settings/load")},restoreDefaultClasses:async function(){await this.$store.commit("settings/restoreDefaultClasses")},setDurationDefault:function(t){localStorage.durationDefault=t}}},p=m,g=Object(d["a"])(p,a,i,!1,null,null,null);e["default"]=g.exports},"463e":function(t,e,s){},"641e":function(t,e,s){"use strict";var a=s("0874");a["default"].register({edit:{width:576,height:512,paths:[{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8l-218.4 218.4-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8 218.4-218.4c3.8-3.8 10-3.8 13.8 0zM564.6 60.3c15.2 15.2 15.2 39.9 0 55.2l-35.4 35.4c-3.8 3.8-10 3.8-13.8 0l-90.2-90.2c-3.8-3.8-3.8-10 0-13.8l35.4-35.4c15.3-15.2 40-15.2 55.2 0zM384 346.2c0-3.2 1.3-6.2 3.5-8.5l40-40c7.6-7.5 20.5-2.2 20.5 8.5v157.8c0 26.5-21.5 48-48 48h-352c-26.5 0-48-21.5-48-48v-352c0-26.5 21.5-48 48-48h285.8c10.7 0 16.1 12.9 8.5 20.5l-40 40c-2.3 2.2-5.3 3.5-8.5 3.5h-229.8v320h320v-101.8z"}]}})},a56d:function(t,e,s){"use strict";var a=s("0874");a["default"].register({trash:{width:448,height:512,paths:[{d:"M432 32c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16h-416c-8.8 0-16-7.2-16-16v-32c0-8.8 7.2-16 16-16h120l9.4-18.7c3.6-7.3 13.1-13.3 21.3-13.3h0.1 114.3 0c8.2 0 17.8 6 21.5 13.3l9.4 18.7h120zM53.2 467l-21.2-339h384l-21.2 339c-1.6 24.8-23 45-47.9 45h-245.8c-24.9 0-46.3-20.2-47.9-45z"}]}})}}]);
//# sourceMappingURL=chunk-8136d428.1db2359f.js.map